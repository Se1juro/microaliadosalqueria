(this.webpackJsonpmicroaliados=this.webpackJsonpmicroaliados||[]).push([[0],{166:function(e,t,a){e.exports=a.p+"static/media/member.c09f70f6.svg"},173:function(e,t,a){e.exports=a.p+"static/media/Gestion_Inventario.1a7171ac.svg"},174:function(e,t,a){e.exports=a.p+"static/media/Gestiona_Inventario.d409b167.svg"},175:function(e,t,a){e.exports=a.p+"static/media/Distribucion.aef7fe8a.svg"},176:function(e,t,a){e.exports=a.p+"static/media/Productividad.2ef18f4f.svg"},177:function(e,t,a){e.exports=a.p+"static/media/Desarrollador.f24f739f.svg"},178:function(e,t,a){e.exports=a.p+"static/media/webDeveloper.449c436b.svg"},179:function(e,t,a){e.exports=a.p+"static/media/seller.6e621da7.svg"},180:function(e,t,a){e.exports=a.p+"static/media/arrowRight.6a6f342e.svg"},181:function(e,t,a){e.exports=a.p+"static/media/boss.efb5a8fb.svg"},182:function(e,t,a){e.exports=a.p+"static/media/look.845bcaf4.svg"},184:function(e,t,a){e.exports=a(332)},189:function(e,t,a){},192:function(e,t,a){},198:function(e,t){},200:function(e,t){},213:function(e,t){},215:function(e,t){},243:function(e,t){},245:function(e,t){},246:function(e,t){},252:function(e,t){},254:function(e,t){},272:function(e,t){},274:function(e,t){},286:function(e,t){},289:function(e,t){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),c=a.n(o),i=(a(189),a(13)),s=(a(190),a(96),a(191),a(192),a(4)),l=a(5),u=a(7),m=a(6),d=a(23),p=a.n(d),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Herramientas Administrativas"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(i.NavLink,{className:"dropdown-item",exact:!0,to:"/crearproducto",activeClassName:"main-nav-active"},"Crear Producto"),r.a.createElement(i.NavLink,{className:"dropdown-item",exact:!0,to:"/usuarios",activeClassName:"main-nav-active"},"Usuarios"),r.a.createElement(i.NavLink,{className:"dropdown-item",exact:!0,to:"/productos",activeClassName:"main-nav-active"},"Productos")))}}]),a}(n.Component),h=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))}}]),a}(n.Component),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeValueOfSession=function(){localStorage.removeItem("token"),e.props.onClick(),window.location.href="/"},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav-link",style:{cursor:"pointer"},onClick:this.changeValueOfSession},"Cerrar Sesion")}}]),a}(n.Component),g=a(1),b=a.n(g),x=a(2),E=a(8),y=a.n(E),k=a(12),w=a.n(k),N={},O=localStorage.getItem("token");N.deleteUser=function(){var e=Object(x.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"\xbfEstas seguro de eliminar este producto?",text:"Esta accion puede no ser irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#dd3333",confirmButtonText:"Si, eliminalo"}).then(function(){var e=Object(x.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.value){e.next=18;break}return e.prev=1,e.next=4,w.a.put("/api/usuarios/delete/"+t,"",{headers:{Authorization:"Bearer "+O}});case 4:if(200!==e.sent.status){e.next=10;break}return e.next=8,y.a.fire({title:"Eliminado",text:"El usuario ha sido eliminado",icon:"success",timer:2e3}).then(a());case 8:e.next=12;break;case 10:return e.next=12,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos eliminar el usuario",timer:2e3});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos eliminar el usuario",timer:2e3});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N.getUsers=function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,w.a.get("/api/usuarios/disponibles",{headers:{Authorization:"Bearer "+O}});case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,w.a.get("/api/usuarios",{headers:{Authorization:"Bearer "+O}});case 8:a=e.sent;case 9:return e.abrupt("return",{usuarios:a.data,loading:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N.searchByCode=function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos encontrar el usuario",timer:2e3});case 3:e.next=21;break;case 5:return e.prev=5,e.next=8,w.a.get("/api/usuarios/"+t,{headers:{Authorization:"Berer "+O}}).catch((function(e){console.log(e.response)}));case 8:if(200!==(a=e.sent).status){e.next=13;break}return e.abrupt("return",a.data);case 13:return e.next=15,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos eliminar el usuario",timer:2e3});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(5),e.next=21,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos encontrar el usuario",timer:2e3});case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),N.makeMicroaliado=function(){var e=Object(x.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!==t){e.next=5;break}return e.next=3,y.a.fire({icon:"error",title:"Algo salio mal",text:"No ejecutar la tarea, comunicate con el administrador",timer:2e3});case 3:e.next=18;break;case 5:return e.prev=5,e.next=8,w.a.post("/api/usuarios/convert/"+t,null,{headers:{Authorization:"Bearer "+O}});case 8:if(200!==e.sent.status){e.next=12;break}return e.next=12,y.a.fire({title:"Exitoso",text:"Funcion ejecutada con exito",icon:"success",timer:2e3}).then(a());case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(5),e.next=18,y.a.fire({icon:"error",title:"Algo salio mal",text:"No ejecutar la tarea, comunicate con el administrador",timer:2e3});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,a){return e.apply(this,arguments)}}(),N.asignMicroToSeller=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={codigo:a},e.next=4,w.a.post("/api/usuarios/asignmicro/"+t,r,{headers:{Authorization:"Bearer "+O}});case 4:if(200!==e.sent.status){e.next=10;break}return e.next=8,y.a.fire({title:"Exitoso",text:"Funcion ejecutada con exito",icon:"success",timer:3e3}).then(n());case 8:e.next=12;break;case 10:return e.next=12,y.a.fire({icon:"error",title:"Algo salio mal",text:"No se ejecuto la tarea, comunicate con el administrador",timer:3e3});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=18,y.a.fire({icon:"error",title:"Algo salio mal",text:"No se ejecuto la tarea, comunicate con el administrador",timer:3e3});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a,n){return e.apply(this,arguments)}}();var C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={token:p.a.decode(localStorage.getItem("token")),canViewInventoryAndDelivery:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("vendedor"!==(t=this.state.token).rol){e.next=8;break}return e.next=4,N.searchByCode(t.codigoReferencia);case 4:if(!e.sent.resultado.codigoMicroaliadoEncargado){e.next=8;break}return e.next=8,this.setState({canViewInventoryAndDelivery:!0});case 8:if("microaliado"!==t.rol){e.next=11;break}return e.next=11,this.setState({canViewInventoryAndDelivery:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.NavLink,{exact:!0,className:"nav-link",to:"/productos",activeClassName:"main-nav-active"},"Productos")),this.state.canViewInventoryAndDelivery?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.NavLink,{exact:!0,className:"nav-link",to:"/inventario/"+this.state.token.codigoReferencia,activeClassName:"main-nav-active"},"Mi inventario")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.NavLink,{exact:!0,className:"nav-link",to:"/distribucion/"+this.state.token.codigoReferencia,activeClassName:"main-nav-active"},"Mi Distribucion"))):null)}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={logged:!1,isAdmin:!1,nombreUsuario:""},e.changeValueOfSession=function(){e.setState({logged:!1,isAdmin:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=p.a.decode(localStorage.getItem("token"));localStorage.getItem("token")&&("admin"===e.rol&&this.setState({isAdmin:!0}),this.setState({logged:!0,nombreUsuario:e.nombre}))}},{key:"render",value:function(){var e=this.state.logged,t=this.state.isAdmin;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(i.NavLink,{exact:!0,className:"navbar-brand",to:"/",activeClassName:"main-nav-active"},"Microaliados Inventario"),r.a.createElement(h,null),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.NavLink,{exact:!0,className:"nav-link",to:"/",activeClassName:"main-nav-active"},"Home")),e&&!t?r.a.createElement(C,null):null,e&&t?r.a.createElement(f,null):null,e?r.a.createElement("li",{className:"nav-item"},r.a.createElement("b",{className:"nav-link disabled",style:{color:"white"}},this.state.nombreUsuario)):null,e?null:r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.NavLink,{exact:!0,className:"nav-link",to:"/login",activeClassName:"main-nav-active"},"Iniciar Sesion")),e?r.a.createElement("li",{className:"nav-item"},r.a.createElement(v,{onClick:this.changeValueOfSession})):null))))}}]),a}(n.Component),I=a(17),P=a(15),S=(a(327),a(172)),D=a(166),A=a.n(D),B=a(167),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,"Si tienes problemas recuerda comunicarte con el"," ",r.a.createElement("strong",null,"administrador")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:A.a,alt:"Desarrollador web",className:"img-fluid",width:"100px",height:"100px"})),r.a.createElement(B.HashLink,{className:"btn btn-primary btn-block",style:{marginTop:"40px"},to:"/#contact"},"Solicitar Soporte"))}}]),a}(n.Component),M={},T=localStorage.getItem("token");M.getProducts=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=12;break}if(!a||!n){e.next=7;break}return e.next=4,w.a.get("/api/productos/disponibles?page="+a+"&limit="+n,{headers:{Authorization:"Bearer "+T}});case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,w.a.get("/api/productos/disponibles",{headers:{Authorization:"Bearer "+T}});case 9:r=e.sent;case 10:e.next=21;break;case 12:if(!a&&!n){e.next=18;break}return e.next=15,w.a.get("/api/productos?page="+a+"&limit="+n,{headers:{Authorization:"Bearer "+T}});case 15:r=e.sent,e.next=21;break;case 18:return e.next=20,w.a.get("/api/productos",{headers:{Authorization:"Bearer "+T}});case 20:r=e.sent;case 21:return e.abrupt("return",{productos:r.data,loading:!1});case 22:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M.deleteProduct=function(){var e=Object(x.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"\xbfEstas seguro de eliminar este producto?",text:"Esta accion puede no ser irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminalo"}).then(function(){var e=Object(x.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.value){e.next=18;break}return e.prev=1,e.next=4,w.a.delete("/api/productos/"+t,{headers:{Authorization:"Bearer "+T}});case 4:if(200!==e.sent.status){e.next=10;break}return e.next=8,y.a.fire({title:"Eliminado",icon:"success",text:"Tu producto ha sido eliminado",timer:2e3}).then(a());case 8:e.next=12;break;case 10:return e.next=12,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos eliminar tu producto",timer:2e3});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos eliminar tu producto",timer:2e3});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M.updateProduct=function(){var e=Object(x.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.put("/api/productos/"+t,a,{headers:{Authorization:"Bearer "+T}}).then((function(e){try{200===e.status?y.a.fire({title:"Registro exitoso",text:"Producto guardado con exito",icon:"success",timer:2e3}).then((function(){return window.location.href="/productos"})):y.a.fire({icon:"error",title:"Oops...",text:"Algo salio mal, comunicate con el administrador",timer:2e3})}catch(t){y.a.fire({icon:"error",title:"Oops...",text:"Algo salio mal, comunicate con el administrador",timer:2e3})}}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),M.createProduct=function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("/api/productos",t,{headers:{Authorization:"Bearer "+T}}).then((function(e){200===e.status?y.a.fire({title:"Registro exitoso",text:"Producto guardado con exito",icon:"success",timer:2e3}).then((function(){return window.location.href="/productos"})):y.a.fire({icon:"error",title:"Oops...",text:"Algo salio mal, comunicate con el administrador",timer:2e3})}));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),M.getProductByCode=function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/productos/".concat(t),{headers:{Authorization:"Bearer "+T}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var L=a(21),R=a(22),F={},_=localStorage.getItem("token");F.getInventory=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a||!n){e.next=7;break}return e.next=4,w.a.get("/api/inventario/"+t+"?page="+a+"&limit="+n,{headers:{Authorization:"Bearer "+_}}).catch((function(e){return e.response}));case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,w.a.get("/api/inventario/"+t,{headers:{Authorization:"Bearer "+_}}).catch((function(e){return e.response}));case 9:r=e.sent;case 10:return e.abrupt("return",r.data);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),F.addedProductToInventory=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a?(o=parseInt(n),r={codigoUsuario:t,productos:{nomProduct:a.descripcion,id:a.codigoReferencia,cantidad:o}}):r={codigoUsuario:t},e.next=4,w.a.post("/api/inventario/",r,{headers:{Authorization:"Bearer "+_}}).catch((function(e){return e.response}));case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),F.deleteProductOfInventory=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={codigoProducto:a},e.prev=1,e.next=4,w.a.put("/api/inventario/".concat(t),n,{headers:{Authorization:"Bearer "+_}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),F.increaseStock=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r){var o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=parseInt(r),c={codigoUsuario:a,productos:[{id:n,cantidad:o}]},e.next=5,w.a.put("/api/inventario/agregar/".concat(t),c,{headers:{Authorization:"Bearer "+_}}).catch((function(e){return e.response}));case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),F.subtractStock=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={codigoProducto:a,cantidad:n},e.next=4,w.a.put("/api/inventario/restar/".concat(t),r,{headers:{Authorization:"Bearer "+_}});case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}();var z=a(56),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAdmin:!1,isMicroAlly:!1,openModal:!1,productSelected:{},countProduct:0},e.formatProductDescription=function(e){return e.length>15?e.substr(0,10)+"...":e},e.deleteProduct=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.deleteProduct(a,e.props.onChange);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addedToInventory=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.setState({openModal:!e.state.openModal});case 3:if(r=!1,o=e.state.productSelected.codigoReferencia,e.props.productsToFilter&&e.props.productsToFilter.forEach((function(e){e.id===o&&(r=!0)})),!r){t.next=12;break}return t.next=9,F.increaseStock(e.props.inventoryId._id,e.props.userId,o,e.state.countProduct);case 9:n=t.sent,t.next=15;break;case 12:return t.next=14,F.addedProductToInventory(e.props.userId,e.state.productSelected,e.state.countProduct);case 14:n=t.sent;case 15:if(200!==n.status){t.next=20;break}return t.next=18,y.a.fire({title:n.data.status,text:n.data.message,icon:"success",timer:5e3}).then((function(){return e.openCountPronduct}),e.props.updateData());case 18:t.next=22;break;case 20:return t.next=22,y.a.fire({icon:"error",title:n.data.status,text:n.data.mensaje,timer:5e3});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.openCountPronduct=function(t){e.setState({openModal:!e.state.openModal,productSelected:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=p.a.decode(localStorage.getItem("token"));"admin"===e.rol&&this.setState({isAdmin:!0}),"microaliado"===e.rol&&this.setState({isMicroAlly:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,this.props.productos.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{className:t.estado?null:"text-danger"},t.codigoReferencia),r.a.createElement("td",null,e.formatProductDescription(t.descripcion)),r.a.createElement("td",null,t.aplicaIva?"Si":"No"),r.a.createElement("td",{style:{display:"flex",justifyContent:"center"}},t.precioUnitario),e.state.isAdmin?r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.deleteProduct(t.codigoReferencia)},style:{margin:"5px"}},"Eliminar"),r.a.createElement(i.Link,{className:"btn btn-primary",to:"/editarproducto/"+t.codigoReferencia},"Actualizar")):null,e.state.isMicroAlly&&e.props.inventoryId?r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary",style:{margin:"5px"},onClick:function(){return e.openCountPronduct(t)}},r.a.createElement(L.a,{icon:R.d}))):null)}))),r.a.createElement(z.a,{show:this.state.openModal,onHide:function(){return e.setState({openModal:!e.state.openModal})},"aria-labelledby":"example-modal-sizes-title-sm",centered:!0},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,{id:"example-modal-sizes-title-sm"},"Cantidad del producto")),r.a.createElement(z.a.Body,null,r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline",onSubmit:this.addedToInventory},r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("label",{htmlFor:"countProduct",className:"sr-only"},"Cantidad"),r.a.createElement("input",{type:"number",className:"form-control",id:"countProduct",name:"countProduct",placeholder:"cantidad",onChange:this.onInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2",onClick:this.addedToInventory},"Aceptar"))))))}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={clicked:!1,stateOfList:!0},e.changeValueOfProductList=function(){e.setState({clicked:!e.state.clicked,stateOfList:!e.state.stateOfList}),e.props.changeValueOfProductList(e.state.stateOfList)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12",style:{marginTop:"10px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Opciones avanzadas")),r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:this.changeValueOfProductList},r.a.createElement(L.a,{icon:R.a})," ",this.state.clicked?"Productos Activos":"Productos Inactivos"),r.a.createElement("br",null),this.state.stateOfList?null:r.a.createElement("b",null,"Los productos marcados en letra roja estan inactivos"))))}}]),a}(n.Component),H={};function q(e){return r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination"},1===e.currentPage?null:r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link","aria-label":"Previous",id:"previous",onClick:function(){return e.movePages("prev")}},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous")))," ",e.rows.map((function(t){return r.a.createElement("li",{className:"page-item",key:t},r.a.createElement("button",{className:"page-link",onClick:function(){return e.selectNumPage(t)}},t))}))," ",e.currentPage===e.totalPage?null:r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link","aria-label":"Next",id:"next",onClick:function(){return e.movePages("next")}},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next")))))}H.generatePagination=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n,r,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=1;r<=t;r++)n.push(r);for(o=[],c=1;c<=a;c++)c%5===0&&o.push(c);return e.abrupt("return",{totalItems:o,rows:n});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLimitChange=function(t){e.props.changeInput(t)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("select",{id:"limitItem",className:"form-control col-md-3",name:"limitItem",onChange:this.handleLimitChange,style:{marginBottom:"10px"},defaultValue:this.props.limitItem},this.props.totalDocs.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))}}]),a}(n.Component),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={codigo:"",searchingProductToList:e.props.searchingProductToList,products:[]},e.onChangeForm=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState(Object(P.a)({},a.target.name,a.target.value)),""===a.target.value&&e.props.getProductByCode();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cleanData=function(t){t.preventDefault(),e.setState({codigo:""}),e.state.searchingProductToList&&e.props.getProductByCode()},e.searchProduct=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.state.codigo){t.next=14;break}return t.next=4,M.getProductByCode(e.state.codigo);case 4:if(n=t.sent,(r=[]).push(n.data[0]),null!==r[0]&&void 0!==r[0]){t.next=12;break}return console.log(n),t.next=11,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos encontrar el producto",timer:3e3});case 11:return t.abrupt("return",t.sent);case 12:e.setState({products:r}),e.state.searchingProductToList&&e.props.getProductByCode(r);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{onSubmit:this.searchProduct},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"codigo",className:"col-sm-2 col-form-label"},"Codigo"),r.a.createElement("div",{className:"col-md-4 "},r.a.createElement("input",{type:"text",className:"form-control",id:"codigo",name:"codigo",onChange:this.onChangeForm,value:this.state.codigo})),r.a.createElement("div",{className:"col-md-4 m-auto",style:{margin:"1rem"}},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Buscar"),r.a.createElement("button",{className:"btn btn-primary mb-2",style:{marginLeft:"1rem"},onClick:this.cleanData},"Limpiar")))))}}]),a}(n.Component),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={productos:[],loading:!0,token:localStorage.getItem("token"),isAdmin:!1,isMicroAlly:!1,viewAllProducts:!1,showSupport:!0,managinginventory:!1,currentPage:1,totalPage:2,rows:[],countSelect:0,totalDocs:[],limitItem:10},e.generatePagination=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.generatePagination(e.state.totalPage,e.state.countSelect);case 2:a=t.sent,e.setState({rows:a.rows,totalDocs:a.totalItems});case 4:case"end":return t.stop()}}),t)}))),e.movePages=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("next"!==a){t.next=7;break}return t.next=3,e.setState({currentPage:e.state.currentPage+1});case 3:return t.next=5,e.getProducts(e.state.currentPage,e.state.limitItem);case 5:t.next=11;break;case 7:return t.next=9,e.setState({currentPage:e.state.currentPage-1});case 9:return t.next=11,e.getProducts(e.state.currentPage,e.state.limitItem);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeValueOfProductList=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({viewAllProducts:a});case 2:return t.next=4,e.getProducts();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProducts=function(){var t=Object(x.a)(b.a.mark((function t(a,n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||!n){t.next=6;break}return t.next=3,M.getProducts(e.state.viewAllProducts,a,n);case 3:r=t.sent,t.next=9;break;case 6:return t.next=8,M.getProducts(e.state.viewAllProducts);case 8:r=t.sent;case 9:return t.next=11,e.setState({countSelect:r.productos.totalDocs});case 11:return t.next=13,e.setState({totalPage:r.productos.totalPages});case 13:return t.next=15,e.setState({limitItem:r.productos.limit});case 15:return t.next=17,e.setState({productos:r.productos.docs,loading:r.loading});case 17:return t.next=19,e.generatePagination();case 19:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.selectNumPage=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({currentPage:a});case 2:return t.next=4,e.getProducts(a,e.state.limitItem);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(P.a)({},a.target.name,a.target.value));case 2:return t.next=4,e.getProducts(e.state.currentPage,e.state.limitItem);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductByCode=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==a){t.next=4;break}return t.next=3,e.getProducts();case 3:return t.abrupt("return",t.sent);case 4:e.setState({productos:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.support){e.next=5;break}return e.next=3,this.setState({showSupport:!1});case 3:return e.next=5,this.setState({managinginventory:!0});case 5:return e.next=7,this.getProducts();case 7:"admin"===(t=p.a.decode(this.state.token)).rol&&this.setState({isAdmin:!0}),"microaliado"===t.rol&&this.setState({isMicroAlly:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.state.rows;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:this.props.support?this.props.support:"col-md-8 cold-md-offset-3"},r.a.createElement("h6",null,"Cantidad de productos"),r.a.createElement(G,{changeInput:this.onInputChange,limitItem:this.state.limitItem,totalDocs:this.state.totalDocs}),r.a.createElement(J,{getProductByCode:this.getProductByCode,searchingProductToList:!0}),e?r.a.createElement(S.a,{animation:"border",variant:"primary",style:{marginTop:"10px"}}):r.a.createElement("table",{className:"table table-responsive  mx-auto"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Codigo Referencia"),r.a.createElement("th",{scope:"col"},"Descripcion"),r.a.createElement("th",{scope:"col"},"IVA"),r.a.createElement("th",{scope:"col"},"Precio Unitario"),this.state.isAdmin?r.a.createElement("th",{scope:"col"},"Opciones"):null,this.state.isMicroAlly?r.a.createElement("th",{scope:"col"},"Opciones"):null)),r.a.createElement(V,{productos:this.state.productos,onChange:this.getProducts,userId:this.props.userId,updateData:this.props.updateData,productsToFilter:this.props.products,inventoryId:this.props.inventoryId}))),this.state.showSupport&&!e?r.a.createElement("div",{className:"col-md-4"},r.a.createElement(U,null),this.state.isAdmin?r.a.createElement(W,{changeValueOfProductList:this.changeValueOfProductList}):null):null,r.a.createElement("div",{className:this.props.support?this.props.support:"col-md-8 cold-md-offset-3"},this.state.productos.length<=1?null:r.a.createElement(q,{rows:t,currentPage:this.state.currentPage,totalPage:this.state.totalPage,movePages:this.movePages,selectNumPage:this.selectNumPage})))}}]),a}(n.Component),K=a(67),Q=a(66),X=a.n(Q),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={codigo:0,password:"",nombre:"",municipio:"",telefono:0,citiesOfNarino:[],citiesOfCauca:[],department:"",loading:!1,documento:0},e.createSelectMunicipio=function(t){var a=[];return"Cauca"===t?e.state.citiesOfCauca.map((function(e){return a.push(r.a.createElement("option",{key:e,value:e},e))})):"Nari\xf1o"===t?e.state.citiesOfNarino.map((function(e){return a.push(r.a.createElement("option",{key:e,value:e},e))})):a.push(r.a.createElement("option",{key:"none"},"Selecciona departamento")),a},e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={codigo:e.state.codigo,password:e.state.password,nombre:e.state.nombre,documento:e.state.documento,departamento:e.state.department,municipio:e.state.municipio,telefono:e.state.telefono},t.prev=2,t.next=5,w.a.post("/api/usuarios",n);case 5:r=t.sent,localStorage.setItem("token",r.data.token),200===r.status&&y.a.fire("Registro exitoso","Producto guardado con exito","success").then((function(){window.location.href="/",console.log(r)})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),y.a.fire({icon:"error",title:"Oops...",text:"Algo salio mal, comunicate con el administrador"});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDepartments();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDepartments",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t,a,n,r,o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://www.datos.gov.co/resource/xdk5-pm3f.json");case 2:t=e.sent,a=t.data,n=[],r=[],o=Object(K.a)(a);try{for(o.s();!(c=o.n()).done;)"Cauca"===(i=c.value).departamento&&n.push(i.municipio),"Nari\xf1o"===i.departamento&&r.push(i.municipio),this.setState({citiesOfNarino:r,citiesOfCauca:n})}catch(s){o.e(s)}finally{o.f()}case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.state.department;return r.a.createElement("div",{className:"container col-md-6"},r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignContent:"center"}},r.a.createElement("img",{src:X.a,alt:"Inventario microaliados alqueria",width:"120px",height:"120px",style:{marginBottom:"10px"}}),r.a.createElement("h3",null,"Registrarse"))),r.a.createElement("form",{className:"card",onSubmit:this.onSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"codigoReferencia"},"Codigo usuario"),r.a.createElement("input",{type:"text",className:"form-control",id:"codigo",name:"codigo",onChange:this.onInputChange,"aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nombre"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",placeholder:"Nombre completo",onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"documento"},"Documento"),r.a.createElement("input",{type:"number",className:"form-control",id:"documento",name:"documento",placeholder:"Documento de identidad",onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"departamento"},"Departamento"),r.a.createElement("select",{className:"form-control",id:"departamento",name:"department",onChange:this.onInputChange},r.a.createElement("option",null,"Seleccionar"),r.a.createElement("option",null,"Cauca"),r.a.createElement("option",null,"Nari\xf1o"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"municipio"},"Municipio"),r.a.createElement("select",{className:"form-control",id:"municipio",name:"municipio",onChange:this.onInputChange,value:this.state.municipio},r.a.createElement("option",null,"Seleccionar"),this.createSelectMunicipio(t))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"telefono"},"Telefono"),r.a.createElement("input",{type:"number",className:"form-control",id:"telefono",name:"telefono",placeholder:"Telefono celular",onChange:this.onInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Registrarse"),e?r.a.createElement("div",{style:{display:"Flex",justifyContent:"center"}},r.a.createElement(S.a,{animation:"border",variant:"primary",style:{marginTop:"10px"}})):null)),r.a.createElement("div",{className:"card",style:{marginTop:"15px"}},r.a.createElement("div",{className:"card-body"},"\xbfYa tienes una cuenta? ",r.a.createElement(i.Link,{to:"/login"},"Inicia Sesion"))))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={codigoReferencia:"",password:"",logged:!1,loading:!1},e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={codigoReferencia:e.state.codigoReferencia,password:e.state.password},t.prev=2,t.next=5,w.a.post("/api/login",n);case 5:r=t.sent,localStorage.setItem("token",r.data.token),e.setState({loading:!0,logged:!0}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,y.a.fire({icon:"error",title:"Oops...",text:"Algo salio mal, comunicate con el administrador"});case 14:e.state.logged&&(window.location.href="/productos");case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",{className:"container col-md-6"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:X.a,alt:"Inventario microaliados alqueria",width:"120px",height:"120px",style:{marginBottom:"10px"}}),r.a.createElement("h3",null,"Iniciar Sesion")),r.a.createElement("form",{className:"card",onSubmit:this.onSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"codigoReferencia"},"Codigo usuario"),r.a.createElement("input",{type:"text",className:"form-control",id:"codigoReferencia",name:"codigoReferencia",onChange:this.onInputChange,"aria-describedby":"emailHelp"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:this.onInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Iniciar Sesion"),e?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(S.a,{animation:"border",variant:"primary",style:{marginTop:"10px"}})):null)),r.a.createElement("div",{className:"card",style:{marginTop:"15px"}},r.a.createElement("div",{className:"card-body"},"\xbfNuevo en la aplicacion? ",r.a.createElement(i.Link,{to:"/register"},"Registrate"))))}}]),a}(n.Component),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"NO ENCONTRADO - 404")}}]),a}(n.Component),te=a(173),ae=a.n(te),ne=a(174),re=a.n(ne),oe=a(175),ce=a.n(oe),ie=a(176),se=a.n(ie),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#DCDCDC"}},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"3"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:ae.a,className:"d-block w-100",alt:"Bienvenidos a la gestion de tu inventario",height:"400px"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:re.a,className:"d-block w-100",alt:"Gestiona el inventario",height:"400px"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:ce.a,className:"d-block w-100",alt:"Gestiona tus productos en distribucion",height:"400px"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:se.a,className:"d-block w-100",alt:"Aumenta tu productividad",height:"400px"}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{backgroundColor:"black",borderRadius:"200px"}}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{backgroundColor:"black",borderRadius:"200px"}}),r.a.createElement("span",{className:"sr-only"},"Next"))))}}]),a}(n.Component),ue=a(177),me=a.n(ue),de=a(178),pe=a.n(de),fe={};fe.sendEmail=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n){var r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={nombre:t,email:a,mensaje:n},o=w.a.post("http://localhost:4000/contact/",r),e.abrupt("return",o);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}();var he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={nombre:"",email:"",mensaje:""},e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.sendEmail=function(){var t=Object(x.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fe.sendEmail(e.state.nombre,e.state.email,e.state.mensaje);case 3:return n=t.sent,t.next=6,e.successCal(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.successCal=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=5;break}return t.next=3,y.a.fire({position:"top-end",icon:"success",title:a.data.message,showConfirmButton:!1,timer:1500});case 3:return t.next=5,e.setState({nombre:"",email:"",mensaje:""});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"CONTACTO"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.sendEmail},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre Completo",value:this.state.nombre,onChange:this.onInputChange,name:"nombre",id:"nombre"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"email",name:"email",value:this.state.email,onChange:this.onInputChange,id:"email"}))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("label",{htmlFor:"mensaje"},"Mensaje"),r.a.createElement("textarea",{className:"form-control",name:"mensaje",id:"mensaje",value:this.state.mensaje,onChange:this.onInputChange,rows:"3"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"50px"}},"Enviar")))))}}]),a}(n.Component),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null),r.a.createElement("div",{className:"row",style:{marginTop:"20px",display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("img",{src:me.a,alt:"Daniel Morales Desarrollador web",width:"600em"})),r.a.createElement("div",null,r.a.createElement(U,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("img",{src:pe.a,alt:"desarrollo web a la medida",width:"500px"})),r.a.createElement("div",{id:"contact",name:"contact",style:{display:"flex",alignContent:"center",flexDirection:"column",width:"50%",marginLeft:"20px",fontFamily:"Roboto Mono, monospace"}},r.a.createElement(he,null))))}}]),a}(n.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={codigoReferencia:"",descripcion:"",aplicaIva:"",precioUnitario:0,editing:!1,token:localStorage.getItem("token")},e.optionsIva={Afirmativo:"Si",Negativo:"No"},e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),"Si"===e.state.aplicaIva?e.state.aplicaIva=!0:e.state.aplicaIva=!1,n={codigoReferencia:e.state.codigoReferencia,descripcion:e.state.descripcion,aplicaIva:e.state.aplicaIva,precioUnitario:e.state.precioUnitario},!e.state.editing){t.next=8;break}return t.next=6,M.updateProduct(e.state.codigoReferencia,n);case 6:t.next=10;break;case 8:return t.next=10,M.createProduct(n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.match.params.id){e.next=5;break}return e.next=3,w.a.get("api/productos/"+this.props.match.params.id,{headers:{Authorization:"Bearer "+this.state.token}});case 3:t=e.sent,this.setState({editing:!0,codigoReferencia:this.props.match.params.id,descripcion:t.data[0].descripcion,precioUnitario:t.data[0].precioUnitario,aplicaIva:t.data[0].aplicaIva?this.optionsIva.Afirmativo:this.optionsIva.Negativo,estado:t.data[0].estado});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"card  mx-auto"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h3",{className:"card-header"},"CREAR PRODUCTO"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"codigoReferencia"},"Codigo Referencia"),r.a.createElement("input",{type:"text",className:"form-control",id:"codigoReferencia",name:"codigoReferencia",onChange:this.onInputChange,placeholder:"Ingresa el codigo de referencia",value:this.state.codigoReferencia,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"descripcion"},"Descripcion"),r.a.createElement("input",{type:"text",className:"form-control",id:"descripcion",name:"descripcion",onChange:this.onInputChange,value:this.state.descripcion,placeholder:"Ingresa el nombre del producto",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"aplicaIva"},"Aplica IVA"),r.a.createElement("select",{className:"form-control",id:"aplicaIva",name:"aplicaIva",onChange:this.onInputChange,value:this.state.aplicaIva},r.a.createElement("option",null,"Seleccionar"),r.a.createElement("option",null,this.optionsIva.Afirmativo),r.a.createElement("option",null,this.optionsIva.Negativo))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"precioUnitario"},"Precio unitario"),r.a.createElement("input",{type:"number",className:"form-control",id:"precioUnitario",name:"precioUnitario",onChange:this.onInputChange,value:this.state.precioUnitario,placeholder:"Ingresa el precio del producto",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Crear Producto"))))}}]),a}(n.Component),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).deleteUser=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.deleteUser(a,e.props.onChange);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.makeMicroAliado=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.makeMicroaliado(a,e.props.onChange);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"comprobateRolMicroaliado",value:function(e,t,a){return"admin"!==e&&"microaliado"!==e&&!t&&a}},{key:"render",value:function(){var e=this;return r.a.createElement("tbody",null,this.props.usuarios.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.codigo),r.a.createElement("td",{className:t.estado?null:"text-danger"},t.nombre),r.a.createElement("td",null,t.rol),r.a.createElement("td",null,t.documentoIdentidad),r.a.createElement("td",null,t.departamento),r.a.createElement("td",null,t.municipio),r.a.createElement("td",null,t.telefono),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.deleteUser(t._id)},style:{margin:"5px"}},"Eliminar"),t.estado?null:r.a.createElement(i.Link,{className:"btn btn-primary",to:"/activarusario/:id"+t.codigo},"Activar"),e.comprobateRolMicroaliado(t.rol,t.codigoMicroaliadoEncargado,t.estado)?r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.makeMicroAliado(t.codigo)}},"Hacer Microaliado"):null))})))}}]),a}(n.Component),xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={codigo:"",searchingUserToList:e.props.searchingUserToList,users:[]},e.onChangeForm=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState(Object(P.a)({},a.target.name,a.target.value)),""===a.target.value&&e.props.getUserByCode();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchUser=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.state.codigo){t.next=13;break}return t.next=4,N.searchByCode(e.state.codigo);case 4:if(n=t.sent,(r=[]).push(n.resultado),null!==r[0]&&void 0!==r[0]){t.next=11;break}return t.next=10,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos encontrar el usuario",timer:3e3});case 10:return t.abrupt("return",t.sent);case 11:e.setState({users:r}),e.state.searchingUserToList&&e.props.getUserByCode(r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cleanData=function(t){t.preventDefault(),e.setState({codigo:""}),e.state.searchingUserToList&&e.props.getUserByCode()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{onSubmit:this.searchUser},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"codigo",className:"col-sm-2 col-form-label"},"Codigo"),r.a.createElement("div",{className:"col-md-4 "},r.a.createElement("input",{type:"text",className:"form-control",id:"codigo",name:"codigo",onChange:this.onChangeForm,value:this.state.codigo})),r.a.createElement("div",{className:"col-md-4 m-auto",style:{margin:"1rem"}},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Buscar"),r.a.createElement("button",{className:"btn btn-primary mb-2",style:{marginLeft:"1rem"},onClick:this.cleanData},"Limpiar")))))}}]),a}(n.Component),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={clicked:!1,stateOfList:!0},e.changeValueOfListUsers=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({clicked:!e.state.clicked,stateOfList:!e.state.stateOfList}),t.next=3,e.props.changeValueOfUserList(e.state.stateOfList);case 3:case"end":return t.stop()}}),t)}))),e.showInputToSearchUser=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.searchUser();case 2:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Opciones avanzadas")),r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:this.changeValueOfListUsers},r.a.createElement(L.a,{icon:R.i})," ",this.state.clicked?"Usuarios Activos":"Usuarios Inactivos"),r.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:this.showInputToSearchUser,style:{marginLeft:"10px"}},r.a.createElement(L.a,{icon:R.h})," Buscar usuario"),r.a.createElement(i.Link,{to:"/asignmicro",className:"btn btn-primary ",style:{marginLeft:"10px"}},"Asignar microaliado a vendedor"),r.a.createElement("br",null),this.state.stateOfList?null:r.a.createElement("b",null,"Los usuarios marcados en letra roja estan inactivos"))))}}]),a}(n.Component),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={usuarios:[],token:localStorage.getItem("token"),loading:!0,viewAllUsers:!1,searchingUser:!1},e.changeValueOfUserList=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({viewAllUsers:a});case 2:return t.next=4,e.getUsers();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchUser=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.searchingUser){t.next=4;break}return t.next=3,e.getUsers();case 3:return t.abrupt("return",e.setState({searchingUser:!1}));case 4:e.setState({searchingUser:!0});case 5:case"end":return t.stop()}}),t)}))),e.getUserByCode=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==a){t.next=4;break}return t.next=3,e.getUsers();case 3:return t.abrupt("return",t.sent);case 4:e.setState({usuarios:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUsers=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getUsers(e.state.viewAllUsers);case 2:return a=t.sent,t.next=5,e.setState({usuarios:a.usuarios.resultado,loading:a.loading});case 5:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsers();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.state.searchingUser;return r.a.createElement("div",{className:"row d-flex justify-content-center"},t?r.a.createElement(xe,{getUserByCode:this.getUserByCode,searchingUserToList:!0}):null,r.a.createElement("div",{className:"col-md-12 "},e?r.a.createElement(S.a,{animation:"border",variant:"primary",style:{marginTop:"10px"}}):r.a.createElement("table",{className:"table table-responsive  mx-auto"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Codigo"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Rol"),r.a.createElement("th",{scope:"col"},"Documento"),r.a.createElement("th",{scope:"col"},"Departamento"),r.a.createElement("th",{scope:"col"},"Municipio"),r.a.createElement("th",{scope:"col"},"Telefono"),r.a.createElement("th",{scope:"col",style:{textAlign:"center"}},"Opciones"))),r.a.createElement(be,{usuarios:this.state.usuarios,onChange:this.getUsers})),r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement(Ee,{changeValueOfUserList:this.changeValueOfUserList,searchUser:this.searchUser,getUserByCode:this.getUserByCode}))))}}]),a}(n.Component),ke=a(179),we=a.n(ke),Ne=a(180),Oe=a.n(Ne),Ce=a(181),je=a.n(Ce),Ie=(a(329),a(182)),Pe=a.n(Ie),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={seller:[],microally:[],listSellers:[],listMicroAlly:[]},e.getUsers=Object(x.a)(b.a.mark((function t(){var a,n,r,o,c,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getUsers();case 2:a=t.sent,n=[],r=[],o=Object(K.a)(a.usuarios.resultado),t.prev=6,o.s();case 8:if((c=o.n()).done){t.next=20;break}if("vendedor"!==(i=c.value).rol){t.next=15;break}return t.next=13,n.push(i);case 13:t.next=18;break;case 15:if("microaliado"!==i.rol){t.next=18;break}return t.next=18,r.push(i);case 18:t.next=8;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),o.e(t.t0);case 25:return t.prev=25,o.f(),t.finish(25);case 28:return t.next=30,e.setState({listSellers:n,listMicroAlly:r});case 30:case"end":return t.stop()}}),t,null,[[6,22,25,28]])}))),e.getUserByCode=function(t){t?t.map((function(t){return"microaliado"===t.rol?e.setState({microally:t}):e.setState({seller:t})})):e.setState({seller:[],microally:[]})},e.addSeller=function(t){if(t._id===e.state.seller._id)return e.setState({seller:[]});e.setState({seller:t})},e.addMicro=function(t){if(t._id===e.state.microally._id)return e.setState({microally:[]});e.setState({microally:t})},e.asignMicro=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.asignMicroToSeller(e.state.seller.codigo,e.state.microally.codigo,e.cleanData);case 2:return t.next=4,e.getUsers();case 4:case"end":return t.stop()}}),t)}))),e.cleanData=function(){e.setState({seller:[],microally:[]})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsers();case 2:if(localStorage.getItem("ALERT_MICRO")){e.next=5;break}return e.next=5,y.a.fire({title:"Instrucciones",imageUrl:Pe.a,imageWidth:200,imageHeight:200,imageAlt:"Recuerda",input:"checkbox",inputValue:0,inputPlaceholder:"No quiero ver mas esta alerta",showClass:{popup:"animate__animated animate__backInDown"},hideClass:{popup:"animate__animated animate__backOutDown"},html:"<h3>Recuerda</h3> \n              <p><b>1.</b> Ingresa primero el codigo del microaliado</p>\n              <p><b>2.</b> El segundo codigo es el del vendedor</p>",inputValidator:function(e){1===e&&localStorage.setItem("ALERT_MICRO","NO_MORE")}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{getUserByCode:this.getUserByCode,searchingUserToList:!0}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card",style:{width:"20rem",marginRight:"2rem"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:je.a,className:"card-img-top",alt:"vendedor productos lacteos",style:{width:"8rem",padding:"1rem"}})),r.a.createElement("div",{className:"card-body"},r.a.createElement("b",{className:"card-text",style:{fontSize:"20px"}},"Microaliado"),r.a.createElement("p",null,"Nombre: ",this.state.microally.nombre),r.a.createElement("p",null,"Codigo: ",this.state.microally.codigo),r.a.createElement("p",null,"Cedula: ",this.state.microally.documentoIdentidad))),r.a.createElement("div",{style:{width:"8rem",margin:"2rem",paddingTop:"2.5rem"}},r.a.createElement("img",{src:Oe.a,alt:"Flecha derecha asignando un microaliado a un vendedor de productos lacteos"})),r.a.createElement("div",{className:"card",style:{width:"20rem",marginRight:"2rem"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:we.a,className:"card-img-top",alt:"vendedor productos lacteos",style:{width:"8rem",padding:"1rem"}})),r.a.createElement("div",{className:"card-body"},r.a.createElement("b",{className:"card-text",style:{fontSize:"20px"}},"Vendedor"),r.a.createElement("p",null,"Nombre: ",this.state.seller.nombre),r.a.createElement("p",null,"Codigo: ",this.state.seller.codigo),r.a.createElement("p",null,"Cedula: ",this.state.seller.documentoIdentidad))),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},0!==this.state.seller.length&&0!==this.state.microally.length?r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg h-10 animate__animated animate__bounceInRight",onClick:this.asignMicro},"Confirmar"):null),r.a.createElement("div",{className:"card",style:{width:"18rem",marginTop:"2rem",marginRight:"11.2rem"}},r.a.createElement("div",{className:"card-header"},"Vendedores"),r.a.createElement("ul",{className:"list-group list-group-flush"},this.state.listSellers.map((function(t){return t.codigoMicroaliadoEncargado?null:r.a.createElement("li",{className:"list-group-item",key:t._id,style:{display:"flex",justifyContent:"space-between"}},t.nombre,r.a.createElement("button",{type:"button",className:t._id===e.state.seller._id?"btn btn-danger":"btn btn-primary",onClick:function(){return e.addSeller(t)}},t._id===e.state.seller._id?"Limpiar":"Seleccionar"))})))),r.a.createElement("div",{className:"card",style:{width:"18rem",marginTop:"2rem",marginLeft:"5rem"}},r.a.createElement("div",{className:"card-header"},"Microaliados"),r.a.createElement("ul",{className:"list-group list-group-flush"},this.state.listMicroAlly.map((function(t){return r.a.createElement("li",{className:"list-group-item",key:t._id,style:{display:"flex",justifyContent:"space-between"}},t.nombre,r.a.createElement("button",{type:"button",className:t._id===e.state.microally._id?"btn btn-danger":"btn btn-primary",onClick:function(){return e.addMicro(t)}},t._id===e.state.microally._id?"Limpiar":"Seleccionar"))}))))))}}]),a}(n.Component),De=function(e){return function(){var e=p.a.decode(localStorage.getItem("token"));return!!e&&"admin"===e.rol}()?r.a.createElement(I.d,e):r.a.createElement(I.c,{to:"/"})},Ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{path:"/crearproducto",component:ge}),r.a.createElement(De,{path:"/editarproducto/:id",component:ge}),r.a.createElement(De,{path:"/usuarios/",component:ye}),r.a.createElement(De,{path:"/asignmicro/",component:Se}))}}]),a}(n.Component),Be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={cantidad:void 0},e.openWindow=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.close();case 2:case"end":return t.stop()}}),t)}))),e.deleteProductOfInventory=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.fire({title:"\xbfEstas seguro de eliminar este producto?",text:"Esta accion puede no ser irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminalo"});case 2:if(!t.sent.value){t.next=10;break}return t.next=6,F.deleteProductOfInventory(e.props.inventarioId._id,e.props.product.id);case 6:return a=t.sent,t.next=9,e.succesCall(a);case 9:e.openWindow();case 10:case"end":return t.stop()}}),t)}))),e.increaseStock=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.increaseStock(e.props.inventarioId._id,e.props.userId,e.props.product.id,e.state.cantidad||e.props.product.cantidad);case 2:return a=t.sent,t.next=5,e.succesCall(a);case 5:e.setState({cantidad:void 0});case 6:case"end":return t.stop()}}),t)}))),e.subtractStock=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.subtractStock(e.props.userId,e.props.product.id,e.state.cantidad||e.props.product.cantidad);case 2:return a=t.sent,t.next=5,e.succesCall(a);case 5:e.setState({cantidad:void 0});case 6:case"end":return t.stop()}}),t)}))),e.succesCall=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=7;break}return t.next=3,y.a.fire({title:a.data.status,text:a.data.message,icon:"success",timer:4e3});case 3:return t.next=5,e.props.getData();case 5:t.next=9;break;case 7:return t.next=9,y.a.fire({icon:"error",title:"Algo salio mal",text:"No pudimos realiazr tu operacion",timer:4e3});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{size:"lg",show:this.props.open,onHide:this.openWindow,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Administrar producto"," ",this.props.open?this.props.inventarioId._id:null)),r.a.createElement(z.a.Body,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"codeProduct",className:"col-sm-2 col-form-label"},"Codigo Producto"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",disabled:!0,className:"form-control",id:"codeProduct",defaultValue:this.props.open?this.props.product.id:null}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"nameProduct",className:"col-sm-2 col-form-label"},"Nombre"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",disabled:!0,className:"form-control",id:"nameProduct",defaultValue:this.props.open?this.props.product.nomProduct:null}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"cantProduct",className:"col-sm-2 col-form-label"},"Cantidad"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"number",className:"form-control",id:"cantidad",name:"cantidad",onChange:this.onInputChange,defaultValue:this.props.open?this.props.product.cantidad:null}))),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{marginRight:"10px"},onClick:function(){return e.increaseStock()}},r.a.createElement(L.a,{icon:R.d})),r.a.createElement("button",{type:"button",className:"btn btn-primary ",style:{marginRight:"10px"},onClick:this.subtractStock},r.a.createElement(L.a,{icon:R.c})),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteProductOfInventory},r.a.createElement(L.a,{icon:R.e}))))))}}]),a}(n.Component),Ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={products:[],inventory:[],loadingData:!0,width:window.innerWidth,openWindowProducts:!1,currentPage:1,totalPage:2,rows:[],countSelect:0,totalProducts:[],limitItem:5,productsToFilter:[],openEditProduct:!1,currentProduct:{},userId:e.props.userId||e.props.match.params.id,inDistribution:e.props.inDistribution||!1,token:localStorage.getItem("token")},e.fixCardWidth=function(){return e.state.width<500?{width:500,displayDirection:"row"}:{width:300,displayDirection:"column"}},e.getInventory=function(){var t=Object(x.a)(b.a.mark((function t(a,n){var o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.userId){t.next=26;break}if(!a||!n){t.next=7;break}return t.next=4,F.getInventory(e.state.userId,a,n);case 4:o=t.sent,t.next=10;break;case 7:return t.next=9,F.getInventory(e.state.userId);case 9:o=t.sent;case 10:if(c=p.a.decode(e.state.token),"microaliado"!==c.rol){t.next=20;break}if("No existe el inventario"!==o.mensaje){t.next=20;break}return t.next=16,F.addedProductToInventory(e.state.userId);case 16:if(200!==t.sent.status){t.next=20;break}return t.next=20,e.getInventory();case 20:if("Error"!==o.status){t.next=24;break}return t.abrupt("return",r.a.createElement(I.c,{to:"/"}));case 24:e.setState({productsToFilter:o.inventario[0].productos||[],products:o.productsToFront,inventory:o.inventario,loadingData:!1,totalPage:o.totalPages,countSelect:o.totalDocuments});case 25:e.generatePagination();case 26:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.generatePagination=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.generatePagination(e.state.totalPage,e.state.countSelect);case 2:a=t.sent,e.setState({rows:a.rows,totalProducts:a.totalItems});case 4:case"end":return t.stop()}}),t)}))),e.selectNumPage=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({currentPage:a});case 2:return t.next=4,e.getInventory(a,e.state.limitItem);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(P.a)({},a.target.name,a.target.value));case 2:return t.next=4,e.getInventory(e.state.currentPage,e.state.limitItem);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openWindow=function(){e.setState({openWindowProducts:!e.state.openWindowProducts})},e.movePages=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("next"!==a){t.next=7;break}return t.next=3,e.setState({currentPage:e.state.currentPage+1});case 3:return t.next=5,e.getInventory(e.state.currentPage,e.state.limitItem);case 5:t.next=11;break;case 7:return t.next=9,e.setState({currentPage:e.state.currentPage-1});case 9:return t.next=11,e.getInventory(e.state.currentPage,e.state.limitItem);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openEditProduct=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({openEditProduct:!e.state.openEditProduct,currentProduct:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.moveToDistribution=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.moveToDistribution(a,e.state.inventory[0]._id);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.decode(this.state.token);case 2:if(t=e.sent,"vendedor"!==t.rol){e.next=10;break}return e.next=7,N.searchByCode(t.codigoReferencia);case 7:return a=e.sent,e.next=10,this.setState({userId:a.resultado.codigoMicroaliadoEncargado});case 10:return e.next=12,this.getInventory();case 12:if(this.fixCardWidth(),!this.props.loadInventoryId){e.next=17;break}if(!(this.state.inventory.length>0)){e.next=17;break}return e.next=17,this.props.loadInventoryId(this.state.inventory[0]._id);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.reloadData===this.props.reloadData){e.next=3;break}return e.next=3,this.getInventory();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.inventory,a=this.state.loadingData,n=this.state.rows;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:this.state.inDistribution?"card col-md-12":"card col-md-6",style:{width:this.fixCardWidth}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title",style:{display:"flex",flexDirection:"column",height:"60px"}},r.a.createElement("div",{className:"titleCard",style:{width:"100%"}},r.a.createElement("h5",null,"Inventario N\xb0")),a?"Loading...":r.a.createElement("div",{className:"codeInventory",style:{paddingBottom:"10px"}},r.a.createElement("label",{style:{fontSize:"16px"}},t[0]._id)),r.a.createElement("hr",null)),r.a.createElement("h6",{className:"card-subtitle mb-2 "},"Cantidad de productos:"," ",a?"Loading...":t[0].productos.length),r.a.createElement("h6",null,"Numero de items"),r.a.createElement(G,{changeInput:this.onInputChange,limitItem:this.state.limitItem,totalDocs:this.state.totalProducts}),r.a.createElement("hr",null),r.a.createElement("div",{className:"card-text"},this.state.products.map((function(t){return r.a.createElement("div",{key:t.id,style:{display:"flex"}},r.a.createElement("div",{style:{width:"440px"}},"\u2022"," ",r.a.createElement("label",{style:{marginRight:"5px"}},t.nomProduct)," ","- ",r.a.createElement("b",{style:{margin:"10px"}},"Cod N\xb0:")," ",t.id," -",r.a.createElement("b",{style:{margin:"10px"}}," Cant: ")," ",t.cantidad," "),r.a.createElement("div",null,e.state.inDistribution?r.a.createElement("button",{className:"btn btn-primary",style:{height:"30px"},onClick:function(){return e.moveToDistribution(t)}}," ",r.a.createElement(L.a,{icon:R.f,style:{cursor:"pointer",display:"flex",alignContent:"center"}})):r.a.createElement("button",{className:"btn btn-primary",style:{height:"30px"},onClick:function(){return e.openEditProduct(t)}}," ",r.a.createElement(L.a,{icon:R.b,style:{cursor:"pointer",display:"flex",alignContent:"center"}}))),r.a.createElement("hr",null))}))),r.a.createElement(q,{rows:n,currentPage:this.state.currentPage,totalPage:this.state.totalPage,movePages:this.movePages,selectNumPage:this.selectNumPage}))),r.a.createElement("div",null,r.a.createElement("div",{className:"col-md-12",style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},this.state.inDistribution?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.openWindow},"Ver productos"),r.a.createElement(z.a,{size:"lg",show:this.state.openWindowProducts,onHide:this.openWindow,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,{id:"example-modal-sizes-title-lg"},"Productos")),r.a.createElement(z.a.Body,null,this.state.loadingData?r.a.createElement(S.a,{animation:"border",variant:"primary"}):r.a.createElement(Y,{support:"col-md-12 cold-md-offset-3 modal-lg",products:this.state.productsToFilter,userId:this.state.userId,updateData:this.getInventory,inventoryId:t[0]})))),r.a.createElement(Be,{open:this.state.openEditProduct,close:this.openEditProduct,product:this.state.currentProduct,inventarioId:t[0],getData:this.getInventory,userId:this.state.userId}))))}}]),a}(n.Component),Me={},Te=localStorage.getItem("token");Me.getDistribution=function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/distribucion/".concat(t),{headers:{Authorization:"Bearer "+Te}}).catch((function(e){return e.response}));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Me.moveToDistribution=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r){var o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=parseInt(n),c={codigoUsuario:t,productos:{nomProduct:a.nomProduct,id:a.id,cantidad:o},codigoInventario:r},i=w.a.post("/api/distribucion/",c,{headers:{Authorization:"Bearer "+Te}}).catch((function(e){return e.response})),e.abrupt("return",i);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Me.finishDelivery=function(){var e=Object(x.a)(b.a.mark((function e(t,a,n,r){var o,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=parseInt(r),c={codigoUsuario:t,codigoInventario:n,productos:[{id:a.id,cantidad:o}]},i=w.a.put("/api/distribucion/",c,{headers:{Authorization:"Bearer "+Te}}).catch((function(e){return e.response})),e.abrupt("return",i);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}();var Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={count:0},e.openWindow=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.close();case 2:case"end":return t.stop()}}),t)}))),e.moveToDistribution=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.moveToDistribution(e.state.count);case 3:return t.next=5,e.openWindow();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{show:this.props.open,onHide:this.openWindow},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Escoga la cantidad")),r.a.createElement(z.a.Body,null,r.a.createElement("form",{className:"form-inline",onSubmit:this.moveToDistribution},r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("label",{htmlFor:"inputCount",className:"sr-only"},"Cantidad"),r.a.createElement("input",{type:"number",className:"form-control",id:"count",name:"count",placeholder:"Cantidad",onChange:this.onInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Enviar")))))}}]),a}(n.Component),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={count:0},e.openWindow=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.close();case 2:case"end":return t.stop()}}),t)}))),e.finishDelivery=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.finishDelivery(e.state.count);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{show:this.props.open,onHide:this.openWindow},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Ingrese la cantidad entregada")),r.a.createElement(z.a.Body,null,r.a.createElement("form",{className:"form-inline",onSubmit:this.finishDelivery},r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("label",{htmlFor:"inputCount",className:"sr-only"},"Cantidad"),r.a.createElement("input",{type:"number",className:"form-control",id:"count",name:"count",placeholder:"Cantidad",onChange:this.onInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Enviar")))))}}]),a}(n.Component),Fe=a(183),_e=a.n(Fe),ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:e.props.match.params.id,inventoryId:void 0,productsInShipping:[],loading:!0,openModalCount:!1,openModalDelivered:!1,currentProduct:{},reloadData:!1,currentProductDelivery:{},token:localStorage.getItem("token"),hourDelivery:void 0},e.openModalAndGetDataOfInventory=function(){var t=Object(x.a)(b.a.mark((function t(a,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({inventoryId:n,openModalCount:!e.state.openModalCount,currentProduct:a});case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.moveToDistribution=function(){var t=Object(x.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.moveToDistribution(e.state.userId,e.state.currentProduct,a,e.state.inventoryId);case 2:return n=t.sent,t.next=5,e.succesCall(n);case 5:return t.next=7,e.setState({reloadData:!e.state.reloadData});case 7:return t.next=9,e.getDistribution();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.productDelivered=function(){var t=Object(x.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.finishDelivery(e.state.userId,e.state.currentProductDelivery,e.state.inventoryId,a);case 2:return n=t.sent,t.next=5,e.succesCall(n);case 5:return t.next=7,e.setState({reloadData:!e.state.reloadData});case 7:return t.next=9,e.getDistribution();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDistribution=Object(x.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.getDistribution(e.state.userId);case 2:if(0===(a=t.sent).data.distribution.length){t.next=6;break}return t.next=6,e.setState({productsInShipping:a.data.distribution[0].productos,loading:!1,hourDelivery:a.data.distribution[0].horaSalida});case 6:case"end":return t.stop()}}),t)}))),e.openModalCount=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({openModalCount:!e.state.openModalCount});case 2:case"end":return t.stop()}}),t)}))),e.openModalDelivered=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({openModalDelivered:!e.state.openModalDelivered,currentProductDelivery:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.succesCall=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=7;break}return t.next=3,y.a.fire({title:a.data.status,text:a.data.message,icon:"success",timer:4e3});case 3:return t.next=5,e.getDistribution();case 5:t.next=9;break;case 7:return t.next=9,y.a.fire({icon:"error",title:a.data.status,text:a.data.message,timer:4e3});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadInventoryId=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({inventoryId:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t,a,n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.a.decode(this.state.token),"vendedor"!==t.rol){e.next=9;break}return e.next=5,N.searchByCode(t.codigoReferencia);case 5:if(!(a=e.sent).resultado.codigoMicroaliadoEncargado){e.next=9;break}return e.next=9,this.setState({userId:a.resultado.codigoMicroaliadoEncargado});case 9:return e.next=11,this.getDistribution();case 11:return n=this.state.hourDelivery,r=_e()(n),o=r.tz("America/Bogota").format("LLL"),e.next=16,this.setState({hourDelivery:o});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.productsInShipping,a=this.state.loading;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Ue,{userId:this.props.match.params.id,inDistribution:!0,reloadData:this.state.reloadData,loadInventoryId:this.loadInventoryId,moveToDistribution:this.openModalAndGetDataOfInventory})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Productos en distribuci\xf3n"),r.a.createElement("h6",null,"Hora de salida: ",this.state.hourDelivery)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Productos"),r.a.createElement("div",{className:"card-text"},r.a.createElement("ul",null,a?r.a.createElement(S.a,{animation:"border",variant:"primary"}):t.map((function(t){return r.a.createElement("li",{key:t.id,style:{marginBottom:"10px"}},t.nomProduct," \xa0\xa0\xa0\xa0 | Codigo:",t.id,"\xa0\xa0\xa0\xa0| Cantidad :"," ",t.cantidad,r.a.createElement("button",{className:"btn btn-primary",style:{marginLeft:"10px"},onClick:function(){return e.openModalDelivered(t)}},r.a.createElement(L.a,{icon:R.g})))}))))))),r.a.createElement(Re,{open:this.state.openModalDelivered,close:this.openModalDelivered,finishDelivery:this.productDelivered}),r.a.createElement(Le,{open:this.state.openModalCount,close:this.openModalCount,moveToDistribution:this.moveToDistribution}))}}]),a}(n.Component),Ve=function(){return!!localStorage.getItem("token")},We=function(e){return Ve()?r.a.createElement(I.c,{to:"/"}):r.a.createElement(I.d,e)},He=function(e){return Ve()?r.a.createElement(I.d,e):r.a.createElement(I.c,{to:"/"})};function qe(){return r.a.createElement(I.g,null,r.a.createElement(I.d,{path:"/",exact:!0,component:ve}),r.a.createElement(He,{path:"/productos",exact:!0,component:Y}),r.a.createElement(We,{path:"/register",exact:!0,component:Z}),r.a.createElement(We,{path:"/login",exact:!0,component:$}),r.a.createElement(He,{path:"/inventario/:id",exact:!0,component:Ue}),r.a.createElement(He,{path:"/distribucion/:id",exact:!0,component:ze}),r.a.createElement(He,{path:"/logout",component:v}),r.a.createElement(Ae,null),r.a.createElement(He,{component:ee}))}var Ge=function(){return r.a.createElement(i.BrowserRouter,null,r.a.createElement(j,null),r.a.createElement("div",{className:"container p-4"},r.a.createElement(qe,null)))};c.a.render(r.a.createElement(Ge,null),document.getElementById("root"))},66:function(e,t,a){e.exports=a.p+"static/media/product.943153ec.svg"}},[[184,1,2]]]);
//# sourceMappingURL=main.0c0d3f8e.chunk.js.map